//purpose: to test employee system

package employeeSystem; 

import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Scanner; 

/**class to test Employees*/
public class EmployeeSystem {

    /**tests Employees
     * 
     * @param args not used
     */
    public static void main(String[] args) throws IOException {
        String type;
        ArrayList<Employee> listOfEmployees = newArrayList<>();
        Scanner scan = new Scanner(new File("employees.dat"));
        while (scan.hasNext()) {
            type = scan.next();
            type = type.toUpperCase();
            switch (type) {
                case "S": 
                    listOfEmployees.add(new SalariedEmployee(scan.next(), scan.next(), scan.next(), scan.nextDouble())); 
                    break; 
                case "C": 
                    listOfEmployees.add(new CommissionedEmployee(scan.next(), scan.next(), scan.next(), scan.nextDouble())); 
                    break; 
                case "H": 
                    listOfEmployees.add(new HourlyEm,ployee(scan.next(), scan.next(), scan.next(), scan.nextDouble())); 
                    break; 
                default: 
                    System.out.println("Employee type is not valid");
                    break;
            }//end switch
        }//end while
        
        Scanner scn = new Scanner(System.in);
        double input; 
        
        for (Employee current: listOfEmployees) {
            if (current instanceof HourlyEmployee) {
                System.out.print("Please enter the number of hours "+current.getFirstName()+" "+current.getLastName()+" worked this month: "; 
                input = scn.nextDouble();
                ((HourlyEmployee) current).setHours(input);
            }
            else if (current instanceof CommissionedEmployee) {
                System.out.print("Please enter the sales for "+current.getFirstName()+" "+current.getLastName()+" worked this month: ");
                input = scn.nextDouble(); 
                ((CommissionedEmployee)current).setGrossSales(input)(; 
            }
        }
        
        System.out.println("Monthly Payroll: ");
        for (Employee current: listOfEmployees) {
            System.out.println(current+"\nEarnings: "+Employee.MONEY.format(current.earnings()));
            System.out.println(current.processPayment(current.earnings())+"\n");
        }
        scn.close();
        scan.close();
    }//end main
}//end EmployeeSystem class
                
